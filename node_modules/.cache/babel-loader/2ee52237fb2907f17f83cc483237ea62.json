{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\a-pol\\\\CoHelper\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\a-pol\\\\CoHelper\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\a-pol\\\\CoHelper\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';import firebase from'firebase';var useForm=function useForm(callback,validate){var _useState=useState({username:'',activity:'',email:'',city:'',password:'',password2:'',findFor:{providers:'',clients:'',investors:'',advertising:''}}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var db=firebase.database();var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isSubmitting=_useState6[0],setIsSubmitting=_useState6[1];var handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},name,value)));};var handleSubmit=function handleSubmit(e){e.preventDefault();setErrors(validate(values));setIsSubmitting(true);};useEffect(function(){if(Object.keys(errors).length===0&&isSubmitting){callback();// db.ref('Users').child('Data').push({});\n}},[errors]);return{handleChange:handleChange,handleSubmit:handleSubmit,values:values,errors:errors};};export default useForm;","map":{"version":3,"sources":["C:/Users/a-pol/CoHelper/src/components/RegistrationForm/Elements/useForm.js"],"names":["useState","useEffect","firebase","useForm","callback","validate","username","activity","email","city","password","password2","findFor","providers","clients","investors","advertising","values","setValues","db","database","errors","setErrors","isSubmitting","setIsSubmitting","handleChange","e","target","name","value","handleSubmit","preventDefault","Object","keys","length"],"mappings":"mcAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,CAAAA,QAAP,KAAqB,UAArB,CAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,QAAD,CAAWC,QAAX,CAAwB,CACtC,cAA4BL,QAAQ,CAAC,CACnCM,QAAQ,CAAE,EADyB,CAEnCC,QAAQ,CAAE,EAFyB,CAGnCC,KAAK,CAAE,EAH4B,CAInCC,IAAI,CAAE,EAJ6B,CAKnCC,QAAQ,CAAE,EALyB,CAMnCC,SAAS,CAAE,EANwB,CAOnCC,OAAO,CAAE,CAAEC,SAAS,CAAE,EAAb,CAAiBC,OAAO,CAAE,EAA1B,CAA8BC,SAAS,CAAE,EAAzC,CAA6CC,WAAW,CAAE,EAA1D,CAP0B,CAAD,CAApC,wCAAOC,MAAP,eAAeC,SAAf,eASA,GAAMC,CAAAA,EAAE,CAAGjB,QAAQ,CAACkB,QAAT,EAAX,CAEA,eAA4BpB,QAAQ,CAAC,EAAD,CAApC,yCAAOqB,MAAP,eAAeC,SAAf,eACA,eAAwCtB,QAAQ,CAAC,KAAD,CAAhD,yCAAOuB,YAAP,eAAqBC,eAArB,eAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAC,CAAC,CAAI,CACxB,cAAwBA,CAAC,CAACC,MAA1B,CAAQC,IAAR,WAAQA,IAAR,CAAcC,KAAd,WAAcA,KAAd,CACAX,SAAS,gCACJD,MADI,wBAENW,IAFM,CAECC,KAFD,GAAT,CAID,CAND,CAQA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAJ,CAAC,CAAI,CACxBA,CAAC,CAACK,cAAF,GACAT,SAAS,CAACjB,QAAQ,CAACY,MAAD,CAAT,CAAT,CACAO,eAAe,CAAC,IAAD,CAAf,CACD,CAJD,CAMAvB,SAAS,CACP,UAAM,CACJ,GAAI+B,MAAM,CAACC,IAAP,CAAYZ,MAAZ,EAAoBa,MAApB,GAA+B,CAA/B,EAAoCX,YAAxC,CAAsD,CACpDnB,QAAQ,GACR;AACD,CACF,CANM,CAOP,CAACiB,MAAD,CAPO,CAAT,CAUA,MAAO,CAAEI,YAAY,CAAZA,YAAF,CAAgBK,YAAY,CAAZA,YAAhB,CAA8Bb,MAAM,CAANA,MAA9B,CAAsCI,MAAM,CAANA,MAAtC,CAAP,CACD,CAxCD,CA0CA,cAAelB,CAAAA,OAAf","sourcesContent":["import { useState, useEffect } from 'react';\r\nimport firebase from 'firebase';\r\n\r\nconst useForm = (callback, validate) => {\r\n  const [values, setValues] = useState({\r\n    username: '',\r\n    activity: '',\r\n    email: '',\r\n    city: '',\r\n    password: '',\r\n    password2: '',\r\n    findFor: { providers: '', clients: '', investors: '', advertising: '' },\r\n  });\r\n  const db = firebase.database();\r\n\r\n  const [errors, setErrors] = useState({});\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  const handleChange = e => {\r\n    const { name, value } = e.target;\r\n    setValues({\r\n      ...values,\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    setErrors(validate(values));\r\n    setIsSubmitting(true);\r\n  };\r\n\r\n  useEffect(\r\n    () => {\r\n      if (Object.keys(errors).length === 0 && isSubmitting) {\r\n        callback();\r\n        // db.ref('Users').child('Data').push({});\r\n      }\r\n    },\r\n    [errors]\r\n  );\r\n\r\n  return { handleChange, handleSubmit, values, errors };\r\n};\r\n\r\nexport default useForm;"]},"metadata":{},"sourceType":"module"}