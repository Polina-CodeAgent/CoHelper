{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\a-pol\\\\CoHelper\\\\src\\\\components\\\\HomePage\\\\HomePage.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Navbar from \"./Elements/Navbar.js\";\nimport Cards from \"./Elements/Cards.js\";\nimport LoadingSpinner from \"./Elements/LoadingSpinner.js\";\nimport firebase from \"firebase\";\n\nfunction HomePage() {\n  const userToken = localStorage.getItem(\"token\");\n  const db = firebase.firestore();\n  const [info, setInfo] = useState([]);\n  const [load, setLoad] = useState(false);\n  useEffect(() => {\n    async function getInfo() {\n      const querySnapshot = await db.collection(\"users\").where(\"token\", \"!=\", userToken).get();\n      querySnapshot.forEach(doc => {\n        let info_find = \"\";\n        let info_company = doc.data();\n\n        if (info_company.findFor.advertising === true) {\n          info_find += \"совместную рекламу; \";\n        }\n\n        if (info_company.findFor.clients === true) {\n          info_find += \"заказчиков; \";\n        }\n\n        if (info_company.findFor.investors === true) {\n          info_find += \"инвесторов; \";\n        }\n\n        if (info_company.findFor.providers === true) {\n          info_find += \"рекламу; \";\n        }\n\n        info_company.findFor = info_find;\n        info.push(info_company);\n        setLoad(true);\n        setInfo([...info]);\n      });\n    }\n\n    getInfo();\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, \" \\u041D\\u0430\\u0439\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u0442\\u043D\\u0435\\u0440\\u0430 \\u0434\\u043B\\u044F \\u043A\\u043E\\u043B\\u043B\\u0430\\u0431\\u043E\\u0440\\u0430\\u0446\\u0438\\u0438! \"), /*#__PURE__*/React.createElement(React.Fragment, null, !load ? /*#__PURE__*/React.createElement(LoadingSpinner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 18\n    }\n  }) : /*#__PURE__*/React.createElement(Cards, {\n    info: info,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 39\n    }\n  })));\n}\n\nexport default HomePage;","map":{"version":3,"sources":["C:/Users/a-pol/CoHelper/src/components/HomePage/HomePage.js"],"names":["React","useState","useEffect","Navbar","Cards","LoadingSpinner","firebase","HomePage","userToken","localStorage","getItem","db","firestore","info","setInfo","load","setLoad","getInfo","querySnapshot","collection","where","get","forEach","doc","info_find","info_company","data","findFor","advertising","clients","investors","providers","push"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,OAAOC,cAAP,MAA2B,8BAA3B;AACA,OAAOC,QAAP,MAAqB,UAArB;;AAEA,SAASC,QAAT,GAAoB;AAClB,QAAMC,SAAS,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAlB;AACA,QAAMC,EAAE,GAAGL,QAAQ,CAACM,SAAT,EAAX;AACA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBb,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACc,IAAD,EAAOC,OAAP,IAAkBf,QAAQ,CAAC,KAAD,CAAhC;AACAC,EAAAA,SAAS,CAAC,MAAM;AACd,mBAAee,OAAf,GAAyB;AACvB,YAAMC,aAAa,GAAG,MAAMP,EAAE,CAC3BQ,UADyB,CACd,OADc,EAEzBC,KAFyB,CAEnB,OAFmB,EAEV,IAFU,EAEJZ,SAFI,EAGzBa,GAHyB,EAA5B;AAIAH,MAAAA,aAAa,CAACI,OAAd,CAAuBC,GAAD,IAAS;AAC7B,YAAIC,SAAS,GAAG,EAAhB;AACA,YAAIC,YAAY,GAAGF,GAAG,CAACG,IAAJ,EAAnB;;AACA,YAAID,YAAY,CAACE,OAAb,CAAqBC,WAArB,KAAqC,IAAzC,EAA+C;AAC7CJ,UAAAA,SAAS,IAAI,sBAAb;AACD;;AACD,YAAIC,YAAY,CAACE,OAAb,CAAqBE,OAArB,KAAiC,IAArC,EAA2C;AACzCL,UAAAA,SAAS,IAAI,cAAb;AACD;;AACD,YAAIC,YAAY,CAACE,OAAb,CAAqBG,SAArB,KAAmC,IAAvC,EAA6C;AAC3CN,UAAAA,SAAS,IAAI,cAAb;AACD;;AACD,YAAIC,YAAY,CAACE,OAAb,CAAqBI,SAArB,KAAmC,IAAvC,EAA6C;AAC3CP,UAAAA,SAAS,IAAI,WAAb;AACD;;AACDC,QAAAA,YAAY,CAACE,OAAb,GAAuBH,SAAvB;AACAX,QAAAA,IAAI,CAACmB,IAAL,CAAUP,YAAV;AACAT,QAAAA,OAAO,CAAC,IAAD,CAAP;AACAF,QAAAA,OAAO,CAAC,CAAC,GAAGD,IAAJ,CAAD,CAAP;AACD,OAnBD;AAoBD;;AACDI,IAAAA,OAAO;AACR,GA5BQ,EA4BN,EA5BM,CAAT;AA8BA,sBACE,uDACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kMAFF,eAGE,0CAAG,CAACF,IAAD,gBAAQ,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAR,gBAA6B,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAEF,IAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAhC,CAHF,CADF;AAOD;;AAED,eAAeN,QAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Navbar from \"./Elements/Navbar.js\";\r\nimport Cards from \"./Elements/Cards.js\";\r\nimport LoadingSpinner from \"./Elements/LoadingSpinner.js\";\r\nimport firebase from \"firebase\";\r\n\r\nfunction HomePage() {\r\n  const userToken = localStorage.getItem(\"token\");\r\n  const db = firebase.firestore();\r\n  const [info, setInfo] = useState([]);\r\n  const [load, setLoad] = useState(false);\r\n  useEffect(() => {\r\n    async function getInfo() {\r\n      const querySnapshot = await db\r\n        .collection(\"users\")\r\n        .where(\"token\", \"!=\", userToken)\r\n        .get();\r\n      querySnapshot.forEach((doc) => {\r\n        let info_find = \"\";\r\n        let info_company = doc.data();\r\n        if (info_company.findFor.advertising === true) {\r\n          info_find += \"совместную рекламу; \";\r\n        }\r\n        if (info_company.findFor.clients === true) {\r\n          info_find += \"заказчиков; \";\r\n        }\r\n        if (info_company.findFor.investors === true) {\r\n          info_find += \"инвесторов; \";\r\n        }\r\n        if (info_company.findFor.providers === true) {\r\n          info_find += \"рекламу; \";\r\n        }\r\n        info_company.findFor = info_find;\r\n        info.push(info_company);\r\n        setLoad(true);\r\n        setInfo([...info]);\r\n      });\r\n    }\r\n    getInfo();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <h1> Найдите партнера для коллаборации! </h1>\r\n      <>{!load ? <LoadingSpinner /> : <Cards info={info} />}</>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default HomePage;\r\n"]},"metadata":{},"sourceType":"module"}